"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[130],{3938:(e,n,a)=>{a.d(n,{B2:()=>i,Cq:()=>A,DT:()=>d,I7:()=>p,ID:()=>r,K:()=>j,KU:()=>y,R6:()=>g,_6:()=>m,a$:()=>l,ao:()=>o,dY:()=>u,ld:()=>c,yj:()=>s,yt:()=>h,zR:()=>x});var t=a(4505);const r=async e=>(0,t.A)("behoefte","/behoefte",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=async e=>(0,t.A)("aanvraag","/aanvraag/categorie",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=async e=>(0,t.A)("aanvraag",`/aanvraag/recommendatie/categorie/?patientId=${e}`),o=async e=>(0,t.A)("aanvraag","/aanvraag/categorie/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d=async e=>(0,t.A)("aanvraag","/aanvraag/product",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=async e=>(0,t.A)("aanvraag",`/aanvraag/recommendatie/product/?clientId=${e}`),c=async e=>{try{const n=await(0,t.A)("ecd",`/api/zorgdossier/client/${e}`);return n&&n.id?n:null}catch(n){return console.error("Error fetching zorgdossier:",n),null}},g=async e=>{try{return await(0,t.A)("ecd",`/api/onderzoek/dossier/${e}`)||null}catch(n){return console.error("Error fetching onderzoek by dossier ID:",n),null}},h=async e=>await(0,t.A)("behoefte","/ecd/zorgdossier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),m=async e=>await(0,t.A)("behoefte","/ecd/onderzoek",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),u=async(e,n)=>(0,t.A)("behoefte",`/ecd/onderzoek/${e}/diagnose`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),p=async e=>(0,t.A)("aanvraag","/aanvraag/product/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),y=async e=>{try{return await(0,t.A)("ecd",`/api/client/${e}`)}catch(n){throw console.error(`Error fetching client with ID ${e}:`,n),n}},j=async e=>(0,t.A)("behoefte",`/behoefte/client/${e}`),A=async(e,n)=>(console.log(e,n),(0,t.A)("behoefte",`/behoefte/${n}/aanvraagverwerking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),x=async e=>(0,t.A)("aanvraag",`/aanvraag/client/${e}`)},4505:(e,n,a)=>{a.d(n,{A:()=>r});const t={behoefte:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/behoeftebepaling",aanvraag:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/aanvraagverwerking",product:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/product",ecd:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/ecd",bestel:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/bestel"},r=async function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={"Content-Type":"application/json",...a.headers},i=(e=>{const n=t[e];if(!n)throw console.error(`ERROR: API base URL for service '${e}' is not defined.`),new Error(`API base URL for service '${e}' is not configured.`);return n})(e),s=await fetch(`${i}${n}`,{method:a.method||"GET",...a,headers:r});if(!s.ok){let e=await s.text();try{console.log("lskdjflksdjf",s);e=JSON.parse(e).message||e}catch(o){}throw new Error(`API Error ${s.status}: ${e}`)}return 204===s.status||"0"===s.headers.get("Content-Length")?null:s.json()}},6130:(e,n,a)=>{a.r(n),a.d(n,{default:()=>v});var t=a(5043),r=a(1688),i=a(7313),s=a(3307),o=a(289),d=a(4958),l=a(5397),c=a(180),g=a(9998),h=a(1650),m=a(525),u=a(1766),p=a(3938),y=a(6178),j=a.n(y),A=a(579);const{Title:x,Paragraph:f}=i.A,{TextArea:b}=s.A,v=()=>{const{clientId:e}=(0,r.g)(),n=(0,r.W6)(),[a,i]=(0,t.useState)(null),[y,v]=(0,t.useState)(null),[k,z]=(0,t.useState)(null),[w,O]=(0,t.useState)(null),[I,T]=(0,t.useState)(!0),[S]=o.A.useForm(),[D]=o.A.useForm(),[C]=o.A.useForm(),Y=`/clients/${e}/behoeften`,F=(0,t.useCallback)((async()=>{T(!0);try{const a=await(0,p.KU)(e);if(!a)return d.Ay.error("Cli\xebnt niet gevonden."),void i(null);i(a);const t=await(0,p.ld)(e);v(t);let r=null,s=null;t&&t.id?(r=await(0,p.R6)(t.id),z(r),r&&r.diagnose&&r.diagnose.length>0?(s=r.diagnose[0],O(s)):O(null)):(z(null),O(null)),a&&t&&r&&s&&(d.Ay.info("Cli\xebnt, zorgdossier, onderzoek en diagnose zijn compleet. Doorsturen naar behoeftepagina..."),n.push({pathname:Y,state:{zorgdossierId:t.id,onderzoekId:r.id,diagnoseId:s.id}}))}catch(a){d.Ay.error("Fout bij het laden van cli\xebntdetails of gekoppelde dossiers."),console.error("Error fetching client details/dossiers:",a),i(null),v(null),z(null),O(null)}finally{T(!1)}}),[e,n,Y]);(0,t.useEffect)((()=>{F()}),[F]);return I?(0,A.jsx)(u.A,{children:(0,A.jsx)(l.A,{size:"large",tip:"Controleer cli\xebnt en dossiers..."})}):a?(0,A.jsxs)(u.A,{children:[(0,A.jsxs)(c.A,{style:{marginBottom:"20px"},children:[(0,A.jsxs)(x,{level:2,children:["Cli\xebntdetails: ",a.naam]}),(0,A.jsxs)(f,{children:["ID: ",a.id]}),(0,A.jsxs)(f,{children:["Adres: ",a.adres]}),(0,A.jsxs)(f,{children:["Geboortedatum: ",j()(a.geboortedatum).format("DD-MM-YYYY")]})]}),!y&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Zorgdossier Aanmaken",style:{marginTop:"20px"},children:[(0,A.jsx)(f,{children:"Er is nog geen zorgdossier voor deze cli\xebnt. Maak deze nu aan."}),(0,A.jsxs)(o.A,{form:S,layout:"vertical",onFinish:async n=>{T(!0);try{const a={client_id:e,situatie:n.situatie};await(0,p.yt)(a),d.Ay.success("Zorgdossier succesvol aangemaakt!"),S.resetFields(),await F()}catch(a){d.Ay.error("Fout bij het aanmaken van het zorgdossier."),console.error("Error creating zorgdossier:",a)}finally{T(!1)}},children:[(0,A.jsx)(o.A.Item,{label:"Situatie/Initi\xeble Opmerking",name:"situatie",rules:[{required:!0,message:"Vul een korte situatieschets in!"}],children:(0,A.jsx)(b,{rows:3,placeholder:"Beschrijf de initi\xeble situatie van de cli\xebnt."})}),(0,A.jsx)(o.A.Item,{children:(0,A.jsx)(h.A,{type:"primary",htmlType:"submit",loading:I,block:!0,children:"Zorgdossier Aanmaken"})})]})]})]}),y&&!k&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Onderzoek Aanmaken",style:{marginTop:"20px"},children:[(0,A.jsx)(f,{children:"Er is nog geen onderzoek gekoppeld aan dit zorgdossier. Maak deze nu aan."}),(0,A.jsxs)(o.A,{form:D,layout:"vertical",onFinish:async e=>{T(!0);try{if(!y||!y.id)return void d.Ay.error("Kan geen onderzoek aanmaken: Zorgdossier ID ontbreekt.");const n=j()(),a={zorgdossier_id:y.id,begin_datum:e.begin_datum.toISOString(),eind_datum:e.eind_datum?e.eind_datum.toISOString():n.add(1,"year").toISOString()};await(0,p._6)(a),d.Ay.success("Onderzoek succesvol aangemaakt!"),D.resetFields(),await F()}catch(n){d.Ay.error("Fout bij het aanmaken van het onderzoek."),console.error("Error creating onderzoek:",n)}finally{T(!1)}},children:[(0,A.jsx)(o.A.Item,{label:"Begin Datum Onderzoek",name:"begin_datum",initialValue:j()(),rules:[{required:!0,message:"Selecteer de begindatum van het onderzoek!"}],children:(0,A.jsx)(m.A,{style:{width:"100%"},format:"YYYY-MM-DD"})}),(0,A.jsx)(o.A.Item,{label:"Eind Datum Onderzoek (optioneel)",name:"eind_datum",children:(0,A.jsx)(m.A,{style:{width:"100%"},format:"YYYY-MM-DD"})}),(0,A.jsx)(o.A.Item,{children:(0,A.jsx)(h.A,{type:"primary",htmlType:"submit",loading:I,block:!0,children:"Onderzoek Aanmaken"})})]})]})]}),y&&k&&!w&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Diagnose Toevoegen",style:{marginTop:"20px"},children:[(0,A.jsx)(f,{children:"Vul de diagnose in voor dit onderzoek. De ingevoerde diagnose wordt de actieve diagnose."}),(0,A.jsxs)(o.A,{form:C,layout:"vertical",onFinish:async e=>{T(!0);try{if(!k||!k.id)return void d.Ay.error("Kan diagnose niet toevoegen: Onderzoek ID ontbreekt.");const n={onderzoek_id:k.id,diagnosecode:e.diagnosecode,naam:e.naam,toelichting:e.toelichting,datum:j()().toISOString(),status:"Actief"};await(0,p.dY)(k.id,n),d.Ay.success("Diagnose succesvol aangemaakt!"),C.resetFields(),await F()}catch(n){d.Ay.error("Fout bij het aanmaken van de diagnose."),console.error("Diagnose fout:",n)}finally{T(!1)}},children:[(0,A.jsx)(o.A.Item,{label:"Diagnosecode",name:"diagnosecode",rules:[{required:!0,message:"Vul de diagnosecode in!"}],children:(0,A.jsx)(s.A,{placeholder:"Bijv. G80.9 (Cerebrale Parese, ongespecificeerd)"})}),(0,A.jsx)(o.A.Item,{label:"Naam",name:"naam",rules:[{required:!0,message:"Vul de naam van de diagnose in!"}],children:(0,A.jsx)(s.A,{placeholder:"Bijv. Cerebrale Parese"})}),(0,A.jsx)(o.A.Item,{label:"Toelichting",name:"toelichting",rules:[{required:!0,message:"Geef een toelichting op de diagnose!"}],children:(0,A.jsx)(b,{rows:3,placeholder:"Gedetailleerde beschrijving van de diagnose..."})}),(0,A.jsx)(o.A.Item,{children:(0,A.jsx)(h.A,{type:"primary",htmlType:"submit",loading:I,block:!0,children:"Diagnose Toevoegen"})})]})]})]}),y&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Bestaand Zorgdossier",style:{marginTop:"20px"},children:[(0,A.jsxs)(f,{children:["ID: ",y.id]}),(0,A.jsxs)(f,{children:["Situatie: ",y.situatie]})]})]}),k&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Bestaand Onderzoek",style:{marginTop:"20px"},children:[(0,A.jsxs)(f,{children:["ID: ",k.id]}),(0,A.jsxs)(f,{children:["Begindatum: ",j()(k.begin_datum).format("DD-MM-YYYY")]}),(0,A.jsxs)(f,{children:["Einddatum: ",j()(k.eind_datum).format("DD-MM-YYYY")]})]})]}),w&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsxs)(c.A,{title:"Geregistreerde Diagnose",style:{marginTop:"20px"},children:[(0,A.jsxs)(f,{children:["ID: ",w.id]}),(0,A.jsxs)(f,{children:["Onderzoek ID: ",w.onderzoek_id]}),(0,A.jsxs)(f,{children:["Code: ",w.diagnosecode]}),(0,A.jsxs)(f,{children:["Naam: ",w.naam]}),(0,A.jsxs)(f,{children:["Toelichting: ",w.toelichting]}),(0,A.jsxs)(f,{children:["Datum: ",j()(w.datum).format("DD-MM-YYYY HH:mm")]}),(0,A.jsxs)(f,{children:["Status: ",w.status]})]})]}),a&&y&&k&&w&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.A,{}),(0,A.jsx)(h.A,{type:"primary",onClick:()=>n.push({pathname:Y,state:{zorgdossierId:y.id,onderzoekId:k.id,diagnoseId:w.id}}),style:{marginTop:"20px"},children:"Ga naar Behoeftenbepaling"})]})]}):(0,A.jsx)(u.A,{children:(0,A.jsx)("p",{children:"Cli\xebnt niet gevonden of een fout opgetreden."})})}},9998:(e,n,a)=>{a.d(n,{A:()=>c});var t=a(8168),r=a(4467),i=a(8139),s=a.n(i),o=a(5043),d=a(5296),l=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]])}return a};const c=function(e){var n=o.useContext(d.QO),a=n.getPrefixCls,i=n.direction,c=e.prefixCls,g=e.type,h=void 0===g?"horizontal":g,m=e.orientation,u=void 0===m?"center":m,p=e.orientationMargin,y=e.className,j=e.children,A=e.dashed,x=e.plain,f=l(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),b=a("divider",c),v=u.length>0?"-".concat(u):u,k=!!j,z="left"===u&&null!=p,w="right"===u&&null!=p,O=s()(b,"".concat(b,"-").concat(h),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(b,"-with-text"),k),"".concat(b,"-with-text").concat(v),k),"".concat(b,"-dashed"),!!A),"".concat(b,"-plain"),!!x),"".concat(b,"-rtl"),"rtl"===i),"".concat(b,"-no-default-orientation-margin-left"),z),"".concat(b,"-no-default-orientation-margin-right"),w),y),I=(0,t.A)((0,t.A)({},z&&{marginLeft:p}),w&&{marginRight:p});return o.createElement("div",(0,t.A)({className:O},f,{role:"separator"}),j&&"vertical"!==h&&o.createElement("span",{className:"".concat(b,"-inner-text"),style:I},j))}}}]);
//# sourceMappingURL=130.7a2862df.chunk.js.map