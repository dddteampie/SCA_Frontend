"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[467],{3467:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(5043),s=n(1688),r=n(4958),o=n(5397),c=n(180),i=n(3307),l=n(1650),d=n(2228),h=n(1766),u=n(8623),m=n(6178),g=n.n(m),p=n(579);const y=()=>{const e=(0,s.W6)(),[t,n]=(0,a.useState)([]),[m,y]=(0,a.useState)(""),[f,A]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null);(0,a.useEffect)((()=>{w()}),[]);const w=async()=>{A(!0);try{const e=await(0,u.L)();n(e||[])}catch(e){r.Ay.error("Fout bij het laden van cli\xebnten."),console.error("Error fetching clients:",e)}finally{A(!1)}};return f?(0,p.jsx)(h.A,{children:(0,p.jsx)(o.A,{size:"large",tip:"Cli\xebnten laden..."})}):(0,p.jsxs)(h.A,{children:[(0,p.jsx)("h1",{children:"Cli\xebnt Selectie"}),(0,p.jsxs)(c.A,{title:"Nieuwe Cli\xebnt Toevoegen",style:{marginBottom:"20px"},children:[(0,p.jsx)(i.A,{placeholder:"Naam van de nieuwe cli\xebnt",value:m,onChange:e=>y(e.target.value),style:{width:"calc(100% - 100px)",marginRight:"10px"}}),(0,p.jsx)(l.A,{type:"primary",onClick:async()=>{if(m.trim()){A(!0);try{const a={naam:m,adres:"Onbekend",geboortedatum:g()().toISOString()},s=await(0,u.d)(a);if(s&&s.clientId){const o={id:s.clientId,naam:m,adres:a.adres,geboortedatum:a.geboortedatum};n([...t,o]),y(""),r.Ay.success(`Cli\xebnt "${o.naam}" succesvol toegevoegd.`),e.push(`/clients/${o.id}`)}else r.Ay.error("Fout bij het toevoegen van cli\xebnt: Geen geldig ID ontvangen.")}catch(a){r.Ay.error("Fout bij het toevoegen van cli\xebnt: "+a.message),console.error("Error adding client:",a)}finally{A(!1)}}else r.Ay.warning("Voer een naam in voor de nieuwe cli\xebnt.")},children:"Toevoegen"})]}),(0,p.jsx)(c.A,{title:"Bestaande Cli\xebnten",children:(0,p.jsx)(d.Ay,{bordered:!0,dataSource:t,renderItem:t=>(0,p.jsx)(d.Ay.Item,{actions:[(0,p.jsx)(l.A,{onClick:()=>(t=>{b(t),r.Ay.success(`Cli\xebnt "${t.naam}" geselecteerd.`),e.push(`/clients/${t.id}`)})(t),children:"Selecteer"},"select")],children:(0,p.jsx)(d.Ay.Item.Meta,{title:t.naam,description:`ID: ${t.id}`})})})})]})}},4505:(e,t,n)=>{n.d(t,{A:()=>s});const a={behoefte:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/behoeftebepaling",aanvraag:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/aanvraagverwerking",product:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/product",ecd:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/ecd"},s=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s={"Content-Type":"application/json",...n.headers},r=(e=>{const t=a[e];if(!t)throw console.error(`ERROR: API base URL for service '${e}' is not defined.`),new Error(`API base URL for service '${e}' is not configured.`);return t})(e),o=await fetch(`${r}${t}`,{method:n.method||"GET",...n,headers:s});if(!o.ok){let e=await o.text();try{console.log("lskdjflksdjf",o);e=JSON.parse(e).message||e}catch(c){}throw new Error(`API Error ${o.status}: ${e}`)}return 204===o.status||"0"===o.headers.get("Content-Length")?null:o.json()}},8623:(e,t,n)=>{n.d(t,{L:()=>s,d:()=>r});var a=n(4505);const s=async()=>(0,a.A)("ecd","/api/client"),r=async e=>(0,a.A)("behoefte","/ecd/client",{method:"POST",body:JSON.stringify(e)})}}]);
//# sourceMappingURL=467.c150e2b0.chunk.js.map