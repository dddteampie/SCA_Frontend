"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[656],{3938:(e,a,n)=>{n.d(a,{B2:()=>o,Cq:()=>v,DT:()=>c,I7:()=>u,ID:()=>r,K:()=>f,KU:()=>b,R6:()=>h,_6:()=>y,a$:()=>d,ao:()=>i,dY:()=>p,ld:()=>l,yj:()=>s,yt:()=>g,zR:()=>j});var t=n(4505);const r=async e=>(0,t.A)("behoefte","/behoefte",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=async e=>(0,t.A)("aanvraag","/aanvraag/categorie",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=async e=>(0,t.A)("aanvraag",`/aanvraag/recommendatie/categorie/?patientId=${e}`),i=async e=>(0,t.A)("aanvraag","/aanvraag/categorie/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=async e=>(0,t.A)("aanvraag","/aanvraag/product",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d=async e=>(0,t.A)("aanvraag",`/aanvraag/recommendatie/product/?clientId=${e}`),l=async e=>{try{const a=await(0,t.A)("ecd",`/api/zorgdossier/client/${e}`);return a&&a.id?a:null}catch(a){return console.error("Error fetching zorgdossier:",a),null}},h=async e=>{try{return await(0,t.A)("ecd",`/api/onderzoek/dossier/${e}`)||null}catch(a){return console.error("Error fetching onderzoek by dossier ID:",a),null}},g=async e=>await(0,t.A)("behoefte","/ecd/zorgdossier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),y=async e=>await(0,t.A)("behoefte","/ecd/onderzoek",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),p=async(e,a)=>(0,t.A)("behoefte",`/ecd/onderzoek/${e}/diagnose`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),u=async e=>(0,t.A)("aanvraag","/aanvraag/product/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),b=async e=>{try{return await(0,t.A)("ecd",`/api/client/${e}`)}catch(a){throw console.error(`Error fetching client with ID ${e}:`,a),a}},f=async e=>(0,t.A)("behoefte",`/behoefte/client/${e}`),v=async(e,a)=>(console.log(e,a),(0,t.A)("behoefte",`/behoefte/${a}/aanvraagverwerking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),j=async e=>(0,t.A)("aanvraag",`/aanvraag/client/${e}`)},4505:(e,a,n)=>{n.d(a,{A:()=>r});const t={behoefte:"http://sca-load-balancr-1199435183.us-east-1.elb.amazonaws.com:8080/behoeftebepaling",aanvraag:"http://sca-load-balancr-1199435183.us-east-1.elb.amazonaws.com:8080/aanvraagverwerking",product:"http://sca-load-balancr-1199435183.us-east-1.elb.amazonaws.com:8080/product",ecd:"http://sca-load-balancr-1199435183.us-east-1.elb.amazonaws.com:8080/ecd"},r=async function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={"Content-Type":"application/json",...n.headers},o=(e=>{const a=t[e];if(!a)throw console.error(`ERROR: API base URL for service '${e}' is not defined.`),new Error(`API base URL for service '${e}' is not configured.`);return a})(e),s=await fetch(`${o}${a}`,{method:n.method||"GET",...n,headers:r});if(!s.ok){let e=await s.text();try{console.log("lskdjflksdjf",s);e=JSON.parse(e).message||e}catch(i){}throw new Error(`API Error ${s.status}: ${e}`)}return 204===s.status||"0"===s.headers.get("Content-Length")?null:s.json()}},9656:(e,a,n)=>{n.r(a),n.d(a,{default:()=>y});var t=n(5043),r=n(1688),o=n(4958),s=n(5397),i=n(2228),c=n(180),d=n(1650),l=n(1766),h=n(3938),g=n(579);const y=()=>{const{clientId:e,aanvraagId:a}=(0,r.g)(),[n,y]=(0,t.useState)([]),[p,u]=(0,t.useState)(!1),[b,f]=(0,t.useState)(null);(0,t.useEffect)((()=>{e&&a&&v(e,a)}),[e,a]);const v=async(e,a)=>{const n={clientid:e,behoefteid:a,behoeftebeschrijving:"Behoefte om langer thuis te blijven wonen",gekozencategorieid:1};f(n),j(n)},j=async e=>{u(!0);try{const a={client_id:e.clientid,behoefte_beschrijving:e.behoeftebeschrijving,gekozen_categorie_id:e.gekozencategorieid};await(0,h.DT)(a),o.Ay.success("Productaanvraag gestart. Producten ophalen...");const n=await(0,h.a$)(e.clientid);y(n.productlijst),o.Ay.success("Producten succesvol opgehaald.")}catch(a){o.Ay.error("Fout bij opvragen productaanbeveling: "+a.message),console.error("Error starting product request:",a)}finally{u(!1)}};return p?(0,g.jsx)(l.A,{children:(0,g.jsx)(s.A,{size:"large",tip:"Producten laden..."})}):(0,g.jsxs)(l.A,{children:[(0,g.jsxs)("h1",{children:["Product Aanbevelingen voor Client: ",e]}),n.length>0?(0,g.jsx)(i.Ay,{grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:4},dataSource:n,renderItem:e=>(0,g.jsx)(i.Ay.Item,{children:(0,g.jsxs)(c.A,{title:e.Naam,actions:[(0,g.jsx)(d.A,{type:"primary",onClick:()=>(async e=>{if(b){u(!0);try{const a={client_id:b.clientid,behoefte_id:b.behoefteid,product_ean:e};await(0,h.I7)(a),o.Ay.success(`Product ${e} gekozen.`)}catch(a){o.Ay.error("Fout bij het kiezen van product: "+a.message),console.error("Error choosing product:",a)}finally{u(!1)}}else o.Ay.error("Aanvraagdetails niet geladen.")})(e.EAN),children:"Kies Product"})],children:[(0,g.jsxs)("p",{children:["EAN: ",e.EAN]}),(0,g.jsxs)("p",{children:["Prijs: \u20ac",e.Prijs?e.Prijs.toFixed(2):"N/A"]}),(0,g.jsxs)("p",{children:["Beschrijving: ",e.Beschrijving||"Geen beschrijving"]})]})})}):(0,g.jsx)("p",{children:"Geen product aanbevelingen gevonden voor deze aanvraag."})]})}}}]);
//# sourceMappingURL=656.b1a66fb4.chunk.js.map