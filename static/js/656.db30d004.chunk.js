"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[656],{3938:(e,a,t)=>{t.d(a,{B2:()=>o,Cq:()=>v,DT:()=>c,I7:()=>u,ID:()=>r,K:()=>b,KU:()=>f,R6:()=>h,_6:()=>y,a$:()=>d,ao:()=>i,dY:()=>p,ld:()=>l,yj:()=>s,yt:()=>g,zR:()=>j});var n=t(4505);const r=async e=>(0,n.A)("behoefte","/behoefte",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=async e=>(0,n.A)("aanvraag","/aanvraag/categorie",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=async e=>(0,n.A)("aanvraag",`/aanvraag/recommendatie/categorie/?patientId=${e}`),i=async e=>(0,n.A)("aanvraag","/aanvraag/categorie/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=async e=>(0,n.A)("aanvraag","/aanvraag/product",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d=async e=>(0,n.A)("aanvraag",`/aanvraag/recommendatie/product/?clientId=${e}`),l=async e=>{try{const a=await(0,n.A)("ecd",`/api/zorgdossier/client/${e}`);return a&&a.id?a:null}catch(a){return console.error("Error fetching zorgdossier:",a),null}},h=async e=>{try{return await(0,n.A)("ecd",`/api/onderzoek/dossier/${e}`)||null}catch(a){return console.error("Error fetching onderzoek by dossier ID:",a),null}},g=async e=>await(0,n.A)("behoefte","/ecd/zorgdossier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),y=async e=>await(0,n.A)("behoefte","/ecd/onderzoek",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),p=async(e,a)=>(0,n.A)("behoefte",`/ecd/onderzoek/${e}/diagnose`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),u=async e=>(0,n.A)("aanvraag","/aanvraag/product/kies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),f=async e=>{try{return await(0,n.A)("ecd",`/api/client/${e}`)}catch(a){throw console.error(`Error fetching client with ID ${e}:`,a),a}},b=async e=>(0,n.A)("behoefte",`/behoefte/client/${e}`),v=async(e,a)=>(console.log(e,a),(0,n.A)("behoefte",`/behoefte/${a}/aanvraagverwerking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),j=async e=>(0,n.A)("aanvraag",`/aanvraag/client/${e}`)},4505:(e,a,t)=>{t.d(a,{A:()=>r});const n={behoefte:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/behoeftebepaling",aanvraag:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/aanvraagverwerking",product:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/product",ecd:"http://smart-care-assist-1644290222.eu-central-1.elb.amazonaws.com:8080/ecd"},r=async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={"Content-Type":"application/json",...t.headers},o=(e=>{const a=n[e];if(!a)throw console.error(`ERROR: API base URL for service '${e}' is not defined.`),new Error(`API base URL for service '${e}' is not configured.`);return a})(e),s=await fetch(`${o}${a}`,{method:t.method||"GET",...t,headers:r});if(!s.ok){let e=await s.text();try{console.log("lskdjflksdjf",s);e=JSON.parse(e).message||e}catch(i){}throw new Error(`API Error ${s.status}: ${e}`)}return 204===s.status||"0"===s.headers.get("Content-Length")?null:s.json()}},9656:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var n=t(5043),r=t(1688),o=t(4958),s=t(5397),i=t(2228),c=t(180),d=t(1650),l=t(1766),h=t(3938),g=t(579);const y=()=>{const{clientId:e,aanvraagId:a}=(0,r.g)(),[t,y]=(0,n.useState)([]),[p,u]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null);(0,n.useEffect)((()=>{e&&a&&v(e,a)}),[e,a]);const v=async(e,a)=>{const t={clientid:e,behoefteid:a,behoeftebeschrijving:"Behoefte om langer thuis te blijven wonen",gekozencategorieid:1};b(t),j(t)},j=async e=>{u(!0);try{const a={client_id:e.clientid,behoefte_beschrijving:e.behoeftebeschrijving,gekozen_categorie_id:e.gekozencategorieid};await(0,h.DT)(a),o.Ay.success("Productaanvraag gestart. Producten ophalen...");const t=await(0,h.a$)(e.clientid);y(t.productlijst),o.Ay.success("Producten succesvol opgehaald.")}catch(a){o.Ay.error("Fout bij opvragen productaanbeveling: "+a.message),console.error("Error starting product request:",a)}finally{u(!1)}};return p?(0,g.jsx)(l.A,{children:(0,g.jsx)(s.A,{size:"large",tip:"Producten laden..."})}):(0,g.jsxs)(l.A,{children:[(0,g.jsxs)("h1",{children:["Product Aanbevelingen voor Client: ",e]}),t.length>0?(0,g.jsx)(i.Ay,{grid:{gutter:16,xs:1,sm:2,md:3,lg:4,xl:4,xxl:4},dataSource:t,renderItem:e=>(0,g.jsx)(i.Ay.Item,{children:(0,g.jsxs)(c.A,{title:e.Naam,actions:[(0,g.jsx)(d.A,{type:"primary",onClick:()=>(async e=>{if(f){u(!0);try{const a={client_id:f.clientid,behoefte_id:f.behoefteid,product_ean:e};await(0,h.I7)(a),o.Ay.success(`Product ${e} gekozen.`)}catch(a){o.Ay.error("Fout bij het kiezen van product: "+a.message),console.error("Error choosing product:",a)}finally{u(!1)}}else o.Ay.error("Aanvraagdetails niet geladen.")})(e.EAN),children:"Kies Product"})],children:[(0,g.jsxs)("p",{children:["EAN: ",e.EAN]}),(0,g.jsxs)("p",{children:["Prijs: \u20ac",e.Prijs?e.Prijs.toFixed(2):"N/A"]}),(0,g.jsxs)("p",{children:["Beschrijving: ",e.Beschrijving||"Geen beschrijving"]})]})})}):(0,g.jsx)("p",{children:"Geen product aanbevelingen gevonden voor deze aanvraag."})]})}}}]);
//# sourceMappingURL=656.db30d004.chunk.js.map